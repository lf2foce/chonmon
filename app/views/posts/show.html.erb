
<div class="container">
  <p id="notice"><%= notice %></p>
  <div class="bg-white p-3 rounded-lg">
      <h5><%= @post.title %></h5>
  


  <p>
    <strong>Content:</strong>
    <%= @post.content %>
  </p>

  <p>
    <strong>Image url:</strong>
    <%= @post.image_url %>
  </p>

  <p>
    <strong>Category:</strong>
    <%= @post.category_id %>
  </p>

  <p>
    <strong>Rating:</strong>
    <%= @post.rating %>
  </p>

    <%= @post.body %>

  <%= link_to 'Edit', edit_post_path(@post) %> |
  <%= link_to 'Back', posts_path %>

  </div>

  <h5>comments</h5>
  <%= form_with(model: [@post, @post.comments.build]) do |f| %>
    <%= f.text_field :content %>
    <%= f.submit "create", class: "comment-submit" %>
  <% end %>
              
  <div id="msg-<%= @post.id %>">
  </div>

  <% @post.comments.each do |comment| %>
    <%= comment.content %>
  <% end %>


</div>



<% pre_like = @post.likes.find { |like| like.user_id == current_user.id} %>
    <% if pre_like %>
      <div class="unlike" id="dislike-<%= @post.id %>">
        <%= link_to post_like_path(@post, pre_like), method: :delete, remote: true,  class: "grab" do %>
            <span style="font-size: 1.5em; color: #00AD39;">
              <i class="fas fa-heart"></i>
            </span>  <span style="text-decoration: none; color: #00AD39;">Like</span>
        <% end %>
      </div>
    <% else %>
      <%#= button_to 'Like', post_likes_path(post), method: :post %>
      <div class="like" id="like-<%= @post.id %>">
        <%= link_to post_likes_path(@post), method: :post, remote: true, class: "grab" do %>
            <span style="font-size: 1.5em; color: gray;">
              <i class="far fa-heart"></i>
              </span><span style="text-decoration: none; color: gray;"> Like </span>
        <% end %>
      </div>

    <% end %>




<div id="post_<%= @post.id %>_likes">

  <%= render partial: "likes/likes" %>

</div>